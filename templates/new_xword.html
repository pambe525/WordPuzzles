{% extends "base.html" %}
{% block content %}
    {% load static %}
    <h3>New Crossword Puzzle</h3>
    <hr />

    <!-- PAGE-SPECIFIC NAVBAR WITH GRID SIZE SELECTION, RESET AND SAVE -->
    <div class="m-0 row p-2 bg-dark text-light rounded">
        <span class="col-* pt-3 h6">Grid Size: </span>
        <select id="grid-size" class="col-* p-2 ml-2">
          <option value=11>11 x 11</option>
          <option value=13>13 x 13</option>
          <option value=15 selected>15 x 15</option>
        </select>
        <button id="reset-grid" class="col-* btn btn-light m-1 ml-3 h6">Reset Grid</button>
    </div>

    <!-- EDIT MODE SELECTOR AND CROSSWORD GRID -->
    <div class="m-1 mt-2 pt-2">
        <!-- EDIT MODE SELCTOR & HELP TIP -->
        <div class="m-1" style="width:350px">
            <div class="row mb-4" style="height:25px">
                <span class="col-* pt-2 ml-4 h6">Edit Mode: </span>
                <select id="edit-mode" class="col-* ml-2 mr-1">
                  <option value=1 selected>Select Squares to Block</option>
                  <option value=2>Edit ACROSS Answers & Clues</option>
                  <option value=3>Edit DOWN Answers & Clues</option>
                </select>
                <div class="col-* p-1 tip">
                    <i class="far fa-question-circle fa-lg" style="color:grey;"></i>
                    <span id="mode-tip" class="tiptext"></span>
                </div>
            </div>
        </div>
        <!-- CROSSWORD GRID -->
        <div id="xw-grid"></div>
    </div>

    <!-- MODAL DIALOG FOR ANSWER & CLUE INPUT -->
    <div class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Enter Answer & Clue</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="h5">1 Across:</div>
                    <label id="answer-ref" for="answer">Answer:</label>
                    <input class="p-1 mb-1" type="text" id="answer" /><br />
                    <label for="answer-clue">Clue:</label>
                    <textarea class="mb-2 p-1" cols=30 rows=2 id="answer-clue"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">OK</button>
                </div>
            </div>
        </div>
    </div>

    <hr />
    <script src="{% static '/javascript/crossword_editor.js' %}"></script>
    <script src="{% static '/javascript/crossword.js' %}"></script>
    <script>
        $(document).ready(function() {
            try {
                CrosswordEditor.setSizeSelectorId("grid-size");
                CrosswordEditor.setModeSelectorId("edit-mode");
                CrosswordEditor.setModeHelpId("mode-tip");
                CrosswordEditor.setResetBtnId("reset-grid");
                CrosswordEditor.initialize("xw-grid");
            } catch(e) {
                alert(e);
            }
        });
    </script>
{% endblock %}