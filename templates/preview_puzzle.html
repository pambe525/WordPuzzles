{% extends "base.html" %}
{% block content %}
    <div class="d-inline-block">
        <div class="m-0 row mt-2 mb-2">
            <h2 class="pl-2 pb-0 mb-0">Preview Puzzle #{{ object.id }}</h2>
            <a href="{% url 'home' %}" class="ml-auto btn btn-dark">DONE</a>
        </div>
        <div class="ml-2 mb-3">
          <input type="checkbox" value="" id="showAnswers" checked>
          <label class="h5" for="showAnswers">Show answers and parsing</label>
        </div>
        <div class="m-1 bg-light p-3">
            <div class="h5 mb-0"><b>{{ object }}</b></div>
            <div class="h6 mb-2">Posted by: {{ object.editor }}</div>
            {% if object.desc != None and object.desc != "" %}
                <div class="h6 text-dark">Description: {{ object.desc }}</div>
            {% endif %}
            <div class="h5 m-0 row">
                <div><b>Clues</b></div><div class="ml-auto"><b>Pts</b></div>
            </div>

            <table class="table table-responsive mt-1 p-0">
            {% for clue in object.get_clues %}
                <tr>
                    <td>{{ clue.clue_num }}.</td>
                    <td class="pl-1">
                        <div class="text-wrap" style="line-height:normal">{{ clue.get_decorated_clue_text }}</div>
                        <div class="h6 answer text-wrap pt-1">[<b>{{ clue.answer }}</b>] {{ clue.parsing }}</div>
                    </td>
                    <td>[{{ clue.points }}]</td>
                </tr>
            {% endfor %}
            </table>
        </div>
    </div>

    <script>
    $(document).ready(function(){
        $('#showAnswers').change(function() {
            if ( this.checked ) $('.answer').show();
            else $('.answer').hide();
        })
    })
    </script>
{% endblock %}